var $=$,navigator=navigator,google=google,document=document;var wbTemplate={init:function(){"use strict";if(navigator.appVersion.indexOf("MSIE")===-1){this.enableParallaxScrolling()}this.addStandardHandler();this.hideContactSuccess();this.hideContactErrors();this.addGoogleMapSupport()},enableParallaxScrolling:function(){"use strict";$(function(){$.stellar({horizontalScrolling:false,verticalOffset:40})})},addStandardHandler:function(){"use strict";$("#contact_form > input").bind("click",function(){wbTemplate.hideContactErrors();var e=false,t=$('input[name="frmEmail"]').val(),n=$('textarea[name="frmText"]').val();if(!wbTemplate.validateEmail(t)){e=true;$("#contact_form_email_error").fadeIn("slow")}if(typeof n==="undefined"||n===""){e=true;$("#contact_form_message_error").fadeIn("slow")}if(!e){wbTemplate.hideContactErrors();$.ajax({type:"POST",url:"/mail/contact",data:{email:t,message:n}}).done(function(e){$("#contact_form").hide();$("#contact_form_success").fadeIn("slow")}).fail(function(e){$("#contact_form").hide();$("#contact_form_failure").fadeIn("slow")})}})},hideContactSuccess:function(){"use strict";$("#contact_form_success").hide()},hideContactErrors:function(){"use strict";$('#contact_form > div[id$="_error"]').hide();$("#contact_form_failure").hide()},validateEmail:function(e){"use strict";var t=/^([\w-\.]+@([\w\-]+\.)+[\w\-]{2,4})?$/;if(e===""||!t.test(e)){return false}else{return true}},addGoogleMapSupport:function(){"use strict";if($("div#mapview").size()>0){var e=$("div#mapview"),t={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:true},n=new google.maps.Map(document.getElementById("mapview"),t),r=e.attr("address"),i=e.attr("companyname"),s=new google.maps.Geocoder;e.css("width",function(){return e.parent().innerWidth()-10});e.css("height",370);s.geocode({address:r},function(e,t){if(t===google.maps.GeocoderStatus.OK){n.setCenter(e[0].geometry.location);var s=new google.maps.Marker({map:n,position:e[0].geometry.location,title:i}),o='<div id="content">'+'<h5 id="firstHeading" class="firstHeading">'+i+"</h5>"+'<div id="bodyContent"><p>'+r+"</p></div>"+"</div>",u=new google.maps.InfoWindow({content:o,width:150,height:100});google.maps.event.addListener(s,"click",function(){u.open(n,s)});u.open(n,s)}})}}};$(document).ready(function(){"use strict";wbTemplate.init()})